<div *ngFor="let page of jsonTemplate.pages;let page_index=index"
     [ngStyle]="{'background-image': 'url(' + page.bgImage + ')'}">
    <div *ngIf="page.pagetype=='Landing'" style="margin-bottom:5px;position: relative;">
        <div *ngFor="let section of page.sections;let sec_index=index">
            <div  [ngClass]="{'container':page.sections[sec_index].title!='Logo Heading' && page.sections[sec_index].title!='Footer'}">
                <div [ngClass]="{'landing-page':page.sections[sec_index].title!='Logo Heading' && page.sections[sec_index].title!='Footer'}">
                    <div *ngFor="let control of page.sections[sec_index].items;let item_index=index">
                        
                        <control [page]="page" [data]="control" (controlOutput)="notifyChanges($event)">
                        </control>
                    </div>
                </div>
            </div>

        </div>
    </div>
    
    <div *ngIf="page.pagetype=='Question'" style="padding:70px;margin-bottom:5px;position: relative;">
        <div class="questions">
            <div  style="margin:auto;width:70%;background:white;box-shadow:1px 1px 0 #f2f2f2;" >
                <div style="padding:15px;position: relative;">
                    <div style="position:absolute;right:20px;top:20px;">
                        <select class="form-control" #selection (change)="page.sections[0].items[0].type=selection.value;notifyChanges($event)">
                            <option *ngFor="let type of types"
                             [value]="type.value" #opt [attr.selected]="page.sections[0].items[0].type==opt.value?true:null">{{type.label }}</option>
                        </select>
                    </div>
                    <div>
                        <div class="question-subhead" [froalaEditor]="options" [(froalaModel)]="page.sections[0].items[0].name" (froalaModelChange)="notifyChanges($event)"></div>
                        <control  [page]="page" [data]="page.sections[0].items[0]" (controlOutput)="notifyChanges($event)"></control>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>


